<!DOCTYPE html>
<html>

<head>
    
    <title>CryptoCipher: Text Encryption and Decryption</title>
     <meta name="description" content="CryptoCipher is a comprehensive and user-friendly web application designed to provide seamless and secure text encryption and decryption.">
    <link rel="shortcut icon" type="image/x-icon" href="chess-bishop-solid.ico">
    <!-- Include Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <!-- Include Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
</head>

<body>

    <div class="container mt-5">
        <div class="clearfix">
            <div class="mb-4 float-left">
                <h2><i class="fas fa-chess-bishop"></i> CryptoCipher: Text Encryption and Decryption</h2>
                <p>CryptoCipher is a comprehensive and user-friendly web application designed to provide seamless and
                    secure text encryption and decryption.</p>
            </div>
        </div>
        <a class="float-right ml-3" href="#" data-toggle="modal" data-target="#privacyPolicyModal" data-toggle="tooltip" title="Privacy Policy"><i class='fas fa-key' style='font-size:18px'></i></a>
        <a class="float-right" href="#" data-toggle="modal" data-target="#myModal" data-toggle="tooltip" title="How to us?"><i class='fas fa-question-circle' style='font-size:18px'></i></a>


        <div class="form-group mt-3">
            <label for="encryptionKey">Encryption Key:</label>
            <input type="text" class="form-control" id="encryptionKey" name="encryptionKey">
        </div>
        <div class="form-group">
            <label for="operation">Select Operation:</label>
            <select class="form-control" id="operation" onchange="selectoOperation()">
                <option value="encrypt">Encrypt</option>
                <option value="decrypt">Decrypt</option>
            </select>
        </div>
        <div class="form-group">
            <label for="message">Message:</label>
            <div class="input-group mb-3">
                <textarea class="form-control" rows="4" id="message"></textarea>
                <div class="input-group-append">
                    <button class="btn btn-outline-secondary" type="button" onclick="clearInputTextArea()"><i
                            class="fas fa-times"></i></button>
                            
                </div>
            </div>
        </div>
        <button type="button" class="btn btn-primary" onclick="performOperation()">
            <span id="loading-spinner" class="spinner-border spinner-border-sm" style="display:none;"></span> <i
                id="perform-operation">Perform Encryption Operation</i></button>
        <div class="mt-4">
            <strong id="action">Result:</strong>
            <div class="input-group mb-3">
                <textarea readonly style="word-wrap: break-word; pb-4" class="form-control" rows="4" id="result"></textarea>
                <div class="input-group-append">
                    <button class="btn btn-outline-secondary" id="copyButton" type="button" id="copyButton"
                        onclick="copyToClipboard()"><i class="far fa-clone"></i></button>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap Toast -->
    <div class="toast" id="copyToast" style="position: absolute; bottom: 60px; right: 10px;">
        <div class="toast-header">
            <strong class="mr-auto">Copied</strong>
            <button type="button" class="ml-2 mb-1 close" data-dismiss="toast">&times;</button>
        </div>
        <div class="toast-body">
            Text copied to clipboard!
        </div>
    </div>

    <footer class="mt-auto py-3 text-center">

        <small class="text-muted mb-2 credit">

            <strong> Developed by <a class="developer-sign" href="https://rabi-shankar.github.io/resume/"
                    target="_blank">Rabi Shankar</a> | Â© 2023 All Rights Reserved</strong>
        </small>


    </footer>



    <!-- Modal -->
    <div class="modal fade" id="myModal">
        <div class="modal-dialog">
            <div class="modal-content">

                <!-- Modal Header -->
                <div class="modal-header">
                    <h4 class="modal-title">How to Use</h4>
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                </div>

                <!-- Modal Body -->
                <div class="modal-body">
                    <p><strong>1. Enter your Encryption key</strong> in the provided input box.</p>
                    <p><strong>2. Choose between encrypt </strong> or <strong>decrypt</strong> from the dropdown menu.</p>
                    <p><strong>3. Enter your message</strong> in the text box.</p>
                    <p>(<i>Use the <i class="fas fa-times"></i> icon to easily clear message text box.</i>)</p>
                    <p><strong>4. Click the "Perform Encryption Operation"</strong> or<strong> "Perform Decryption Operation"</strong> button to perform the respective operation.</p>
                    <p>(<i>Use the <i class="far fa-clone"></i> icon to easily copy the encrypted or decrypted result.</i>)</p>
                    <p><strong>5. Enjoy the peace of mind</strong> that comes with knowing your sensitive messages are secure.</p>
                </div>

                <!-- Modal Footer -->
                <div class="modal-footer">
                    <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
                </div>

            </div>
        </div>
    </div>
    
    
    
    <!-- Privacy Policy Modal -->
    <div class="modal fade" id="privacyPolicyModal" tabindex="-1" role="dialog" aria-labelledby="privacyPolicyModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="privacyPolicyModalLabel">Privacy Policy for CryptoCipher</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <p>CryptoCipher is a comprehensive and user-friendly web application designed to provide seamless
                        and secure text encryption and decryption. This repository contains the complete source code,
                        documentation, and assets for the CryptoCipher app, empowering users with a powerful tool to
                        protect their sensitive text messages and communications.</p>

                    <p>At CryptoCipher, we are committed to ensuring the privacy and security of our users' data.
                        Here's how we handle data:</p>

                    <ol>
                        <li>No data is saved during the encryption or decryption process.</li>
                        <li>Our source code is available on GitHub, allowing users to review and verify our encryption
                            and decryption methods.</li>
                        <li>No activity history is saved locally or on our server.</li>
                    </ol>

                    <p>Your trust and privacy are of utmost importance to us. If you have any questions or concerns
                        about our privacy practices, please feel free to <a
                            href="mailto:privacy@cryptocipher.com">contact us</a>.</p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>


    <script>
        function selectoOperation() {
            var operation = document.getElementById("operation").value;
            if (operation === "encrypt") {
                $("#perform-operation").text(' Perform Encryption Operation');
            } else {
                $("#perform-operation").text(' Perform Decryption Operation');
            }
        }


        function performOperation() {
            var operation = document.getElementById("operation").value;
            var encryptionKey = document.getElementById("encryptionKey").value;
            var message = document.getElementById("message").value;
            $("#loading-spinner").show();
            $("#perform-operation").text(' Processing...');

            if (operation === "encrypt") {
                //calling encrypt php function
                $.ajax({
                    type: "POST",
                    url: 'encryption.php',
                    dataType: 'json',
                    data: { functionname: 'encrypt', arguments: [message, encryptionKey] },
                    success: function (obj, textstatus) {
                        if (!('error' in obj)) {
                            $("#perform-operation").text(' Done!, Encrypt Again');
                            $("#loading-spinner").hide();
                            $('#action').text('Encrypted: ');
                            $('#result').text(obj.result);
                            $('#result').focus();
                            console.log("Encrypted:", obj.result);
                        } else {
                            $('#result').text('Error: ' + obj.error);
                        }
                    }
                });

            } else if (operation === "decrypt") {



                //calling decrypt php function
                $.ajax({
                    type: "POST",
                    url: 'encryption.php',
                    dataType: 'json',
                    data: { functionname: 'decrypt', arguments: [message, encryptionKey] },
                    success: function (obj, textstatus) {
                        if (!('error' in obj)) {
                            $("#perform-operation").text(' Done!, Decrypt Again');
                            $("#loading-spinner").hide();
                            $('#action').text('Decrypted: ');
                            $('#result').text(obj.result);
                            $('#result').focus();
                            console.log("Decrypted:", obj.result);
                        } else {
                            $('#result').text('Error: ' + obj.error);
                        }
                    }
                });
            }
        }


        function copyToClipboard() {
            var resultText = $("#result").text();
            var tempInput = $("<input>");
            $("body").append(tempInput);
            tempInput.val(resultText).select();
            document.execCommand("copy");
            tempInput.remove();
            $('#result').focus();
            $('#result').select();

            // Show toast
            var toast = $("#copyToast");
            var bsToast = new bootstrap.Toast(toast[0]);
            bsToast.show();
        }

        // function pasteFromClipboardx() {
            
        //     //$('#message').val(pastedText);
        //     $('#message').focus();

        //     // Show toast
        //     var toast = $("#pasteToast");
        //     var bsToast = new bootstrap.Toast(toast[0]);
        //     bsToast.show();
        // }
        

        
        function clearInputTextArea() {
            $('#message').val("");
            $('#message').focus();
        }
        
        
        $(document).ready(function(){
            $('[data-toggle="tooltip"]').tooltip();
        });


    </script>

    <!-- Include Bootstrap JS -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

</body>

</html>
